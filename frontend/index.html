<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <title>TaskQuest</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div id="player-select-bar">
    <label for="player-select">Spieler:</label>
    <select id="player-select">
      <option value="Leon">Leon</option>
      <option value="Daniel">Daniel</option>
    </select>
    <span id="current-player-info" style="margin-left: 1rem;">
      Aktueller Spieler: <b>Leon</b>
    </span>
    <button id="reset-app" type="button" style="background:#232526;color:#ffb347;border:1.5px solid #ffb347;border-radius:6px;padding:0.4rem 1.2rem;cursor:pointer;margin-left:auto;">Reset</button>
  </div>

  <h1>üßô‚Äç‚ôÇÔ∏è TaskQuest</h1>

  <section>
    <h2>üìù Neue Aufgabe</h2>
    <input type="text" id="title" placeholder="Titel der Aufgabe" />

    <label>Schwierigkeit:</label>
    <div class="scale" id="difficulty-scale"></div>

    <label>Dringlichkeit:</label>
    <div class="scale" id="urgency-scale"></div>

    <div style="display:flex;align-items:center;gap:1rem;margin-bottom:1rem;">
      <label for="due-date">F√§llig bis:</label>
      <input type="date" id="due-date" style="margin-bottom:1rem;" />
      <button id="no-due-date" type="button" style="background:#232526;color:#ffb347;border:1.5px solid #ffb347;border-radius:6px;padding:0.4rem 1.2rem;cursor:pointer;">Kein F√§lligkeitsdatum n√∂tig</button>
    </div>
    <button id="add-task">Hinzuf√ºgen</button>
  </section>

  <aside id="exp-explanation">
    <h3 style="display:flex;align-items:center;justify-content:space-between;">
      Info's und Belohnungen
      <button id="toggle-exp-explanation" style="margin-left:1em;font-size:1em;padding:0.2em 0.7em;cursor:pointer;background:#232526;color:#ffb347;border:1px solid #444;border-radius:6px;">‚Äì</button>
    </h3>
    <div id="exp-explanation-content">
      <table>
        <tr><th>Faktor</th><th>Wert</th></tr>
        <tr><td>Basis</td><td>10 √ó Schwierigkeit</td></tr>
        <tr><td>Dringlichkeit</td><td>+ 5 √ó Dringlichkeit</td></tr>
        <tr><td>Zeitaufwand</td><td>+ 1 EXP pro Minute</td></tr>
        <tr><td>Bonus</td><td>+ 20 EXP, wenn vor F√§lligkeitsdatum erledigt</td></tr>
        <tr><td>Strafe</td><td>EXP werden exponentiell reduziert, wenn √ºberf√§llig (siehe unten)</td></tr>
      </table>
      <b>Beispiel:</b><br>
      Schwierigkeit: 3, Dringlichkeit: 2, Zeit: 45min, rechtzeitig<br>
      <b>EXP = 10√ó3 + 5√ó2 + 45 + 20 = 105</b><br>
      <br>
      <b>Strafregel:</b> Je mehr Tage √ºberf√§llig, desto weniger EXP. Ab 21 Tagen: -10 EXP.<br>
      <span style="color:#7ed957;">Je dringender, desto k√ºrzer darf das F√§lligkeitsdatum in der Zukunft liegen!</span>
      <div id="rewards-box" style="margin-top:2.5rem;"></div>
    </div>
  </aside>
  <style>
    #exp-explanation {
      position: absolute;
      top: 2rem;
      right: 2rem;
      width: 400px;
      background: #18191c;
      border-radius: 12px;
      padding: 1.5rem 2rem;
      box-shadow: 0 2px 12px rgba(0,0,0,0.18);
      color: #b2ffb2;
      font-size: 1rem;
      line-height: 1.5;
      z-index: 10;
    }
    @media (max-width: 1000px) {
      #exp-explanation {
        position: static;
        width: auto;
        margin: 2rem 0 0 0;
      }
    }
    section {
      position: relative;
      z-index: 1;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 1rem;
    }
    th, td {
      text-align: left;
      padding: 2px 6px;
    }
    th {
      color: #7ed957;
    }
  </style>

  <section>
    <h2>üßæ Aufgaben</h2>
    <ul id="task-list"></ul>
  </section>

  <script type="module" src="script.js"></script>
  <script>
document.addEventListener('DOMContentLoaded', () => {
  const toggleBtn = document.getElementById('toggle-exp-explanation');
  const expContent = document.getElementById('exp-explanation-content');
  toggleBtn.addEventListener('click', () => {
    if (expContent.style.display === 'none') {
      expContent.style.display = '';
      toggleBtn.textContent = '‚Äì';
    } else {
      expContent.style.display = 'none';
      toggleBtn.textContent = '+';
    }
  });
});
</script>
</body>
</html>
